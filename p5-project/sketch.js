var x;
var y;
var nx;
var ny;
var s1;
var s2;
var s3;
var s4;
var s5;
var s6;
var s7;
var s8;
var s9;
var s10;
var s11;
var s12;
var s13;
var s14;
var s15;
var s16;
var u = 40;
var delay = 10;
var x1;
var x2;
var x3;
var x4;
var x5;
var y1;
var y2;
var y3;
var y4;
var y5;
var c1;
var c2;


function setup() {
  createCanvas(windowWidth, windowHeight);
  s1 = new Stitch();
  s2 = new Stitch();
  s3 = new Stitch();
  s4 = new Stitch();
  s5 = new Stitch();
  s6 = new Stitch();
  s7 = new Stitch();
  s8 = new Stitch();
  s9 = new Stitch();
  s10 = new Stitch();
  s11 = new Stitch();
  s12 = new Stitch();
  s13 = new Stitch();
  s14 = new Stitch();
  s15 = new Stitch();
  s16 = new Stitch();
  x1 = windowWidth/2 - 5*u;
  x2 = windowWidth/2 - 3*u;
  x3 = windowWidth/2 - 1*u;
  x4 = windowWidth/2 + 1*u;
  x5 = windowWidth/2 + 3*u;
  y1 = windowHeight/2 - 5*u;
  y2 = windowHeight/2 - 3*u;
  y3 = windowHeight/2 - 1*u;
  y4 = windowHeight/2 + 1*u;
  y5 = windowHeight/2 + 3*u;
  c1 = 255;
  c2 = 0;
}

function windowResized() {
  resizeCanvas(windowWidth, windowHeight);
  //redraw();
}

function draw() {
    background(c1);
    s1.display();
    s1.move();
    s2.display();
    s2.move();
    s3.display();
    s3.move();
    s4.display();
    s4.move();
    s5.display();
    s5.move();
    s6.display();
    s6.move();
    s7.display();
    s7.move();
    s8.display();
    s8.move();
    s9.display();
    s9.move();
    s10.display();
    s10.move();
    s11.display();
    s11.move();
    s12.display();
    s12.move();
    s13.display();
    s13.move();
    s14.display();
    s14.move();
    s15.display();
    s15.move();
    s16.display();
    s16.move();
}



function keyTyped() {
  if (key === 'a') {
    s1.nx = x1; s1.ny = y5;
    s2.nx = x1; s2.ny = y4;
    s3.nx = x1; s3.ny = y3;
    s4.nx = x1; s4.ny = y2;
    s5.nx = x3; s5.ny = y1;
    s6.nx = x2; s6.ny = y1;
    s7.nx = x4; s7.ny = y1;
    s8.nx = x2; s8.ny = y3;
    s9.nx = x3; s9.ny = y3;
    s10.nx = x4; s10.ny = y3;
    s11.nx = x5; s11.ny = y2;
    s12.nx = x5; s12.ny = y3;
    s13.nx = x5; s13.ny = y4;
    s14.nx = x5; s14.ny = y5;
    s15.nx = x3; s15.ny = y3;
    s16.nx = x3; s16.ny = y3;
  } else if (key === 'b') {
    s1.nx = x1; s1.ny = y1;
    s2.nx = x5; s2.ny = y2;
    s3.nx = x3; s3.ny = y3;
    s4.nx = x1; s4.ny = y4;
    s5.nx = x2; s5.ny = y1;
    s6.nx = x4; s6.ny = y5;
    s7.nx = x5; s7.ny = y4;
    s8.nx = x4; s8.ny = y3;
    s9.nx = x1; s9.ny = y3;
    s10.nx = x2; s10.ny = y5;
    s11.nx = x3; s11.ny = y1;
    s12.nx = x4; s12.ny = y1;
    s13.nx = x1; s13.ny = y5;
    s14.nx = x3; s14.ny = y5;
    s15.nx = x1; s15.ny = y2;
    s16.nx = x2; s16.ny = y3;
  } else if (key === 'c') {
    s1.nx = x3; s1.ny = y1;
    s2.nx = x1; s2.ny = y3;
    s3.nx = x3; s3.ny = y5;
    s4.nx = x4; s4.ny = y1;
    s5.nx = x2; s5.ny = y5;
    s6.nx = x1; s6.ny = y4;
    s7.nx = x2; s7.ny = y1;
    s8.nx = x5; s8.ny = y1;
    s9.nx = x1; s9.ny = y2;
    s10.nx = x4; s10.ny = y5;
    s11.nx = x5; s11.ny = y5;
    s12.nx = x2; s12.ny = y1;
    s13.nx = x1; s13.ny = y2;
    s14.nx = x1; s14.ny = y3;
    s15.nx = x1; s15.ny = y4;
    s16.nx = x2; s16.ny = y5;
  } else if (key === 'd') {
    s1.nx = x1; s1.ny = y2;
    s2.nx = x4; s2.ny = y1;
    s3.nx = x5; s3.ny = y3;
    s4.nx = x2; s4.ny = y5;
    s5.nx = x4; s5.ny = y5;
    s6.nx = x1; s6.ny = y3;
    s7.nx = x1; s7.ny = y5;
    s8.nx = x1; s8.ny = y1;
    s9.nx = x5; s9.ny = y2;
    s10.nx = x2; s10.ny = y1;
    s11.nx = x5; s11.ny = y4;
    s12.nx = x1; s12.ny = y4;
    s13.nx = x3; s13.ny = y1;
    s14.nx = x3; s14.ny = y5;
    s15.nx = x1; s15.ny = y3;
    s16.nx = x1; s16.ny = y2;
  } else if (key === 'e') {
    s1.nx = x2; s1.ny = y3;
    s2.nx = x5; s2.ny = y1;
    s3.nx = x3; s3.ny = y5;
    s4.nx = x2; s4.ny = y1;
    s5.nx = x1; s5.ny = y2;
    s6.nx = x1; s6.ny = y4;
    s7.nx = x3; s7.ny = y3;
    s8.nx = x1; s8.ny = y1;
    s9.nx = x2; s9.ny = y5;
    s10.nx = x5; s10.ny = y5;
    s11.nx = x4; s11.ny = y5;
    s12.nx = x1; s12.ny = y3;
    s13.nx = x1; s13.ny = y5;
    s14.nx = x3; s14.ny = y1;
    s15.nx = x4; s15.ny = y1;
    s16.nx = x4; s16.ny = y3;
  } else if (key === 'f') {
    s1.nx = x2; s1.ny = y1;
    s2.nx = x1; s2.ny = y2;
    s3.nx = x1; s3.ny = y5;
    s4.nx = x3; s4.ny = y3;
    s5.nx = x1; s5.ny = y3;
    s6.nx = x5; s6.ny = y1;
    s7.nx = x4; s7.ny = y3;
    s8.nx = x1; s8.ny = y1;
    s9.nx = x1; s9.ny = y4;
    s10.nx = x2; s10.ny = y3;
    s11.nx = x3; s11.ny = y1;
    s12.nx = x4; s12.ny = y1;
    s13.nx = x3; s13.ny = y3;
    s14.nx = x1; s14.ny = y1;
    s15.nx = x1; s15.ny = y3;
    s16.nx = x4; s16.ny = y3;
  } else if (key === 'g') {
    s1.nx = x1; s1.ny = y3;
    s2.nx = x3; s2.ny = y1;
    s3.nx = x3; s3.ny = y5;
    s4.nx = x1; s4.ny = y4;
    s5.nx = x5; s5.ny = y1;
    s6.nx = x3; s6.ny = y3;
    s7.nx = x5; s7.ny = y3;
    s8.nx = x1; s8.ny = y2;
    s9.nx = x5; s9.ny = y4;
    s10.nx = x4; s10.ny = y1;
    s11.nx = x4; s11.ny = y3;
    s12.nx = x2; s12.ny = y5;
    s13.nx = x4; s13.ny = y5;
    s14.nx = x2; s14.ny = y1;
    s15.nx = x3; s15.ny = y3;
    s16.nx = x4; s16.ny = y3;
  } else if (key === 'h') {
    s1.nx = x3; s1.ny = y3;
    s2.nx = x5; s2.ny = y2;
    s3.nx = x1; s3.ny = y1;
    s4.nx = x1; s4.ny = y3;
    s5.nx = x1; s5.ny = y5;
    s6.nx = x5; s6.ny = y4;
    s7.nx = x5; s7.ny = y3;
    s8.nx = x5; s8.ny = y1;
    s9.nx = x1; s9.ny = y2;
    s10.nx = x5; s10.ny = y5;
    s11.nx = x2; s11.ny = y3;
    s12.nx = x4; s12.ny = y3;
    s13.nx = x1; s13.ny = y4;
    s14.nx = x3; s14.ny = y3;
    s15.nx = x3; s15.ny = y3;
    s16.nx = x3; s16.ny = y3;
  } else if (key === 'i') {
    s1.nx = x5; s1.ny = y1;
    s2.nx = x3; s2.ny = y3;
    s3.nx = x5; s3.ny = y5;
    s4.nx = x1; s4.ny = y5;
    s5.nx = x3; s5.ny = y4;
    s6.nx = x4; s6.ny = y5;
    s7.nx = x2; s7.ny = y1;
    s8.nx = x4; s8.ny = y1;
    s9.nx = x2; s9.ny = y5;
    s10.nx = x1; s10.ny = y1;
    s11.nx = x3; s11.ny = y5;
    s12.nx = x3; s12.ny = y1;
    s13.nx = x3; s13.ny = y2;
    s14.nx = x3; s14.ny = y3;
    s15.nx = x3; s15.ny = y2;
    s16.nx = x3; s16.ny = y4;
  } else if (key === 'j') {
    s1.nx = x5; s1.ny = y4;
    s2.nx = x2; s2.ny = y5;
    s3.nx = x5; s3.ny = y1;
    s4.nx = x1; s4.ny = y4;
    s5.nx = x4; s5.ny = y5;
    s6.nx = x5; s6.ny = y2;
    s7.nx = x5; s7.ny = y3;
    s8.nx = x3; s8.ny = y5;
    s9.nx = x3; s9.ny = y5;
    s10.nx = x5; s10.ny = y3;
    s11.nx = x5; s11.ny = y2;
    s12.nx = x4; s12.ny = y5;
    s13.nx = x1; s13.ny = y4;
    s14.nx = x5; s14.ny = y1;
    s15.nx = x2; s15.ny = y5;
    s16.nx = x5; s16.ny = y4;
  } else if (key === 'k') {
    s1.nx = x1; s1.ny = y5;
    s2.nx = x5; s2.ny = y1;
    s3.nx = x4; s3.ny = y4;
    s4.nx = x3; s4.ny = y3;
    s5.nx = x2; s5.ny = y3;
    s6.nx = x1; s6.ny = y1;
    s7.nx = x4; s7.ny = y2;
    s8.nx = x5; s8.ny = y5;
    s9.nx = x1; s9.ny = y3;
    s10.nx = x1; s10.ny = y2;
    s11.nx = x1; s11.ny = y4;
    s12.nx = x3; s12.ny = y3;
    s13.nx = x2; s13.ny = y3;
    s14.nx = x3; s14.ny = y3;
    s15.nx = x2; s15.ny = y3;
    s16.nx = x3; s16.ny = y3;
  } else if (key === 'l') {
    s1.nx = x1; s1.ny = y5;
    s2.nx = x1; s2.ny = y3;
    s3.nx = x4; s3.ny = y5;
    s4.nx = x2; s4.ny = y5;
    s5.nx = x1; s5.ny = y4;
    s6.nx = x1; s6.ny = y2;
    s7.nx = x1; s7.ny = y1;
    s8.nx = x5; s8.ny = y5;
    s9.nx = x3; s9.ny = y5;
    s10.nx = x1; s10.ny = y5;
    s11.nx = x1; s11.ny = y3;
    s12.nx = x4; s12.ny = y5;
    s13.nx = x2; s13.ny = y5;
    s14.nx = x1; s14.ny = y4;
    s15.nx = x1; s15.ny = y2;
    s16.nx = x1; s16.ny = y1;
  } else if (key === 'm') {
    s1.nx = x3; s1.ny = y3;
    s2.nx = x2; s2.ny = y2;
    s3.nx = x5; s3.ny = y1;
    s4.nx = x4; s4.ny = y2;
    s5.nx = x5; s5.ny = y5;
    s6.nx = x1; s6.ny = y1;
    s7.nx = x1; s7.ny = y5;
    s8.nx = x1; s8.ny = y2;
    s9.nx = x5; s9.ny = y4;
    s10.nx = x1; s10.ny = y3;
    s11.nx = x5; s11.ny = y2;
    s12.nx = x1; s12.ny = y4;
    s13.nx = x5; s13.ny = y3;
    s14.nx = x3; s14.ny = y3;
    s15.nx = x2; s15.ny = y2;
    s16.nx = x4; s16.ny = y2;
  } else if (key === 'n') {
    s1.nx = x5; s1.ny = y3;
    s2.nx = x1; s2.ny = y1;
    s3.nx = x1; s3.ny = y4;
    s4.nx = x5; s4.ny = y1;
    s5.nx = x5; s5.ny = y5;
    s6.nx = x1; s6.ny = y2;
    s7.nx = x5; s7.ny = y2;
    s8.nx = x3; s8.ny = y3;
    s9.nx = x2; s9.ny = y2;
    s10.nx = x5; s10.ny = y4;
    s11.nx = x1; s11.ny = y5;
    s12.nx = x1; s12.ny = y3;
    s13.nx = x4; s13.ny = y4;
    s14.nx = x3; s14.ny = y3;
    s15.nx = x2; s15.ny = y2;
    s16.nx = x4; s16.ny = y4;
  } else if (key === 'o') {
    s1.nx = x2; s1.ny = y1;
    s2.nx = x3; s2.ny = y1;
    s3.nx = x4; s3.ny = y1;
    s4.nx = x5; s4.ny = y2;
    s5.nx = x5; s5.ny = y3;
    s6.nx = x5; s6.ny = y4;
    s7.nx = x4; s7.ny = y5;
    s8.nx = x3; s8.ny = y5;
    s9.nx = x2; s9.ny = y5;
    s10.nx = x1; s10.ny = y4;
    s11.nx = x1; s11.ny = y3;
    s12.nx = x1; s12.ny = y2;
    s13.nx = x5; s13.ny = y3;
    s14.nx = x3; s14.ny = y1;
    s15.nx = x5; s15.ny = y3;
    s16.nx = x3; s16.ny = y5;
  } else if (key === 'p') {
    s1.nx = x1; s1.ny = y2;
    s2.nx = x4; s2.ny = y1;
    s3.nx = x1; s3.ny = y5;
    s4.nx = x2; s4.ny = y3;
    s5.nx = x4; s5.ny = y3;
    s6.nx = x1; s6.ny = y3;
    s7.nx = x5; s7.ny = y2;
    s8.nx = x1; s8.ny = y1;
    s9.nx = x3; s9.ny = y1;
    s10.nx = x3; s10.ny = y3;
    s11.nx = x1; s11.ny = y4;
    s12.nx = x2; s12.ny = y1;
    s13.nx = x3; s13.ny = y3;
    s14.nx = x2; s14.ny = y3;
    s15.nx = x4; s15.ny = y3;
    s16.nx = x1; s16.ny = y3;
  } else if (key === 'q') {
    s1.nx = x3; s1.ny = y1;
    s2.nx = x3; s2.ny = y5;
    s3.nx = x1; s3.ny = y3;
    s4.nx = x5; s4.ny = y3;
    s5.nx = x2; s5.ny = y1;
    s6.nx = x1; s6.ny = y4;
    s7.nx = x4; s7.ny = y1;
    s8.nx = x5; s8.ny = y2;
    s9.nx = x4; s9.ny = y1;
    s10.nx = x1; s10.ny = y2;
    s11.nx = x2; s11.ny = y5;
    s12.nx = x4; s12.ny = y4;
    s13.nx = x5; s13.ny = y5;
    s14.nx = x1; s14.ny = y3;
    s15.nx = x3; s15.ny = y1;
    s16.nx = x3; s16.ny = y5;
  } else if (key === 'r') {
    s1.nx = x2; s1.ny = y3;
    s2.nx = x3; s2.ny = y3;
    s3.nx = x4; s3.ny = y4;
    s4.nx = x1; s4.ny = y4;
    s5.nx = x2; s5.ny = y3;
    s6.nx = x4; s6.ny = y3;
    s7.nx = x3; s7.ny = y1;
    s8.nx = x1; s8.ny = y1;
    s9.nx = x5; s9.ny = y2;
    s10.nx = x5; s10.ny = y5;
    s11.nx = x1; s11.ny = y3;
    s12.nx = x1; s12.ny = y5;
    s13.nx = x2; s13.ny = y1;
    s14.nx = x1; s14.ny = y2;
    s15.nx = x4; s15.ny = y1;
    s16.nx = x3; s16.ny = y3;
  } else if (key === 's') {
    s1.nx = x4; s1.ny = y1;
    s2.nx = x3; s2.ny = y3;
    s3.nx = x2; s3.ny = y3;
    s4.nx = x4; s4.ny = y1;
    s5.nx = x4; s5.ny = y5;
    s6.nx = x2; s6.ny = y5;
    s7.nx = x4; s7.ny = y3;
    s8.nx = x3; s8.ny = y1;
    s9.nx = x5; s9.ny = y4;
    s10.nx = x2; s10.ny = y1;
    s11.nx = x1; s11.ny = y5;
    s12.nx = x3; s12.ny = y5;
    s13.nx = x1; s13.ny = y2;
    s14.nx = x3; s14.ny = y3;
    s15.nx = x5; s15.ny = y1;
    s16.nx = x2; s16.ny = y3;
  } else if (key === 't') {
    s1.nx = x3; s1.ny = y1;
    s2.nx = x1; s2.ny = y1;
    s3.nx = x3; s3.ny = y5;
    s4.nx = x2; s4.ny = y1;
    s5.nx = x4; s5.ny = y1;
    s6.nx = x3; s6.ny = y4;
    s7.nx = x3; s7.ny = y3;
    s8.nx = x3; s8.ny = y2;
    s9.nx = x3; s9.ny = y3;
    s10.nx = x3; s10.ny = y4;
    s11.nx = x4; s11.ny = y1;
    s12.nx = x2; s12.ny = y1;
    s13.nx = x3; s13.ny = y5;
    s14.nx = x1; s14.ny = y1;
    s15.nx = x5; s15.ny = y1;
    s16.nx = x3; s16.ny = y1;
  } else if (key === 'u') {
    s1.nx = x4; s1.ny = y5;
    s2.nx = x3; s2.ny = y5;
    s3.nx = x2; s3.ny = y5;
    s4.nx = x5; s4.ny = y1;
    s5.nx = x2; s5.ny = y5;
    s6.nx = x4; s6.ny = y5;
    s7.nx = x1; s7.ny = y1;
    s8.nx = x4; s8.ny = y5;
    s9.nx = x2; s9.ny = y5;
    s10.nx = x5; s10.ny = y3;
    s11.nx = x1; s11.ny = y3;
    s12.nx = x3; s12.ny = y5;
    s13.nx = x5; s13.ny = y4;
    s14.nx = x1; s14.ny = y4;
    s15.nx = x5; s15.ny = y2;
    s16.nx = x1; s16.ny = y2;
  } else if (key === 'v') {
    s1.nx = x1; s1.ny = y1;
    s2.nx = x4; s2.ny = y3;
    s3.nx = x2; s3.ny = y3;
    s4.nx = x3; s4.ny = y5;
    s5.nx = x4; s5.ny = y4;
    s6.nx = x2; s6.ny = y4;
    s7.nx = x1; s7.ny = y2;
    s8.nx = x5; s8.ny = y2;
    s9.nx = x1; s9.ny = y2;
    s10.nx = x2; s10.ny = y4;
    s11.nx = x4; s11.ny = y4;
    s12.nx = x3; s12.ny = y5;
    s13.nx = x2; s13.ny = y3;
    s14.nx = x4; s14.ny = y3;
    s15.nx = x1; s15.ny = y1;
    s16.nx = x5; s16.ny = y1;
  } else if (key === 'w') {
    s1.nx = x1; s1.ny = y1;
    s2.nx = x3; s2.ny = y1;
    s3.nx = x5; s3.ny = y1;
    s4.nx = x5; s4.ny = y3;
    s5.nx = x2; s5.ny = y4;
    s6.nx = x3; s6.ny = y2;
    s7.nx = x1; s7.ny = y2;
    s8.nx = x4; s8.ny = y5;
    s9.nx = x5; s9.ny = y1;
    s10.nx = x4; s10.ny = y4;
    s11.nx = x2; s11.ny = y5;
    s12.nx = x1; s12.ny = y3;
    s13.nx = x5; s13.ny = y2;
    s14.nx = x1; s14.ny = y1;
    s15.nx = x3; s15.ny = y3;
    s16.nx = x3; s16.ny = y1;
  } else if (key === 'x') {
    s1.nx = x5; s1.ny = y5;
    s2.nx = x2; s2.ny = y4;
    s3.nx = x4; s3.ny = y2;
    s4.nx = x5; s4.ny = y1;
    s5.nx = x1; s5.ny = y5;
    s6.nx = x4; s6.ny = y4;
    s7.nx = x2; s7.ny = y2;
    s8.nx = x2; s8.ny = y2;
    s9.nx = x4; s9.ny = y4;
    s10.nx = x1; s10.ny = y5;
    s11.nx = x5; s11.ny = y1;
    s12.nx = x4; s12.ny = y2;
    s13.nx = x2; s13.ny = y4;
    s14.nx = x5; s14.ny = y5;
    s15.nx = x3; s15.ny = y3;
    s16.nx = x1; s16.ny = y1;
  } else if (key === 'y') {
    s1.nx = x3; s1.ny = y3;
    s2.nx = x1; s2.ny = y1;
    s3.nx = x2; s3.ny = y2;
    s4.nx = x5; s4.ny = y1;
    s5.nx = x3; s5.ny = y4;
    s6.nx = x3; s6.ny = y5;
    s7.nx = x4; s7.ny = y2;
    s8.nx = x1; s8.ny = y1;
    s9.nx = x5; s9.ny = y1;
    s10.nx = x4; s10.ny = y2;
    s11.nx = x3; s11.ny = y5;
    s12.nx = x3; s12.ny = y4;
    s13.nx = x5; s13.ny = y1;
    s14.nx = x2; s14.ny = y2;
    s15.nx = x1; s15.ny = y1;
    s16.nx = x3; s16.ny = y3;
  } else if (key === 'z') {
    s1.nx = x1; s1.ny = y1;
    s2.nx = x5; s2.ny = y1;
    s3.nx = x1; s3.ny = y5;
    s4.nx = x4; s4.ny = y2;
    s5.nx = x3; s5.ny = y3;
    s6.nx = x2; s6.ny = y4;
    s7.nx = x2; s7.ny = y5;
    s8.nx = x4; s8.ny = y1;
    s9.nx = x4; s9.ny = y5;
    s10.nx = x2; s10.ny = y1;
    s11.nx = x5; s11.ny = y1;
    s12.nx = x1; s12.ny = y1;
    s13.nx = x5; s13.ny = y5;
    s14.nx = x1; s14.ny = y5;
    s15.nx = x3; s15.ny = y5;
    s16.nx = x3; s16.ny = y1;
  } else if (key = 32) {
      if (c1 === 0) {
        c1 = 255;
        c2 = 0;
      }
      else if (c1 === 255) {
        c1 = 0;
        c2 = 255; 
      }
    redraw();
  }
  return false; // prevent any default behavior
}

function Stitch() {
  this.x = (int(random(width)/(2*u)))*(2*u);
  this.y = (int(random(height)/(2*u)))*(2*u);
  this.nx = (int(random(width)/(2*u)))*(2*u);
  this.ny = (int(random(height)/(2*u)))*(2*u);

  this.move = function() {
    this.x += (this.nx-this.x)/delay;
    this.y += (this.ny-this.y)/delay;
  };

  this.display = function() {
  	stroke(c2);
  	strokeWeight(u/1.5);
    line(this.x, this.y, this.x + (2*u), this.y + (2*u));
    line(this.x + (2*u), this.y, this.x, this.y + (2*u));
    textSize(50);
    noStroke();
    text("Type a letter!Psst, press <,!",mouseX,mouseY);
  };
    
}